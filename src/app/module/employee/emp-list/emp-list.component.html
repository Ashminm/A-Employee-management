<div class="container-fluid">
  <div class="row">
    <div
      class="col-lg-2 bg-secondary d-flex flex-column p-5"
      style="height: 92vh; width: fit-content"
    >
      <a
        routerLink="/home"
        class="mt-3 text-decoration-none text-light fe-bolder"
        >Home</a
      >
      <a
        routerLink="/employee"
        class="mt-3 text-decoration-none text-light fe-bolder"
        >Employee</a
      >
      <button class="btn btn-link mt-auto text-dark">LogOut</button>
    </div>
    <div class="col-lg-10 p-3">
      <div class="d-flex flex-row justify-content-between">
        <h3>Employees</h3>
        <a routerLink="/employee/add" class="btn btn-dark">
          Add
          <i class="fa-solid fa-plus"></i>
        </a>
      </div>
      <h6>{{ d | date }}</h6>
      <div class="d-flex justify-content-between mt-4">
        <div class="w-25">
          <input
            type="text"
            class="form-control icon"
            placeholder="Enter username to search"
            [(ngModel)]="searchKey"
            
          />
        </div>
        <div class="d-flex">
          <div class="dropdown me-3">
            <button class="btn border-dark pe-3 dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" id="dop1">
             Sort
            </button>
            <ul class="dropdown-menu" aria-labelledby="drop1">
              <li><a class="dropdown-item" (click)="sortByEmpId()">Sort by Id</a></li>
              <li><a class="dropdown-item" (click)="sortByUsername()">Sort by Username</a></li>
            </ul>
          </div>
          <button class="btn btn-info ps-4 pe-4" (click)="exportToPdf()">Export</button>
        </div>
      </div>
      <div class="mt-5 border shadow p-3">
        <table class="table table-bordered">
          <tr class="bg-dark text-light">
            <th>Id</th>
            <th>Username</th>
            <th>Email</th>
            <th>status</th>
            <th>Edit</th>
            <th>Delete</th>
          </tr>
          <tr *ngFor="let i of employee | search:searchKey">
            <td>{{ i.empId }}</td>
            <td>{{ i.Username }}</td>
            <td>{{ i.email }}</td>
            <td>
              <span
                [ngClass]="
                  i.status == 'Active'
                    ? 'text-success fw-bold'
                    : 'text-danger fw-bold'
                "
              >
                {{ i.status }}
              </span>
            </td>
            <td>
              <a routerLink="/employee/edit/{{ i.id }}"
                ><i class="fa-solid fa-pen-to-square" style="color: #0099ff"></i
              ></a>
            </td>
            <td>
              <button class="btn" (click)="handleDelete(i.id)">
                <i class="fa-solid fa-trash" style="color: #f70000"></i>
              </button>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
